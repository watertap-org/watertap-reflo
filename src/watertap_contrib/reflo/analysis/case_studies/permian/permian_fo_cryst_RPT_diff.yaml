permiain_zld2_diff_analysis:
  build_defaults:
    feed_vol_flow: 5
    feed_tds: 130
    recovery_ratio: 0.5
    cryst_yield: 0.9
    heat_price: 0.0166
    elec_price: 0.0434618999
    nacl_recover_price: 0
  diff_param_loop:

    CST Collector Cost:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.energy.costing.trough_surrogate.cost_per_total_aperture_area
      nominal_lb: 148.5
      nominal_ub: 445.5
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1
      num_samples: 1
    Thermal Storage Cost:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.energy.costing.trough_surrogate.cost_per_storage_capital
      nominal_lb: 31
      nominal_ub: 93
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1 
      num_samples: 1
    Aluminum Cost:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.treatment.costing.aluminum_cost
      nominal_lb: 1.115
      nominal_ub: 3.345
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1
      num_samples: 1
    EC Current Efficiency:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.treatment.ec.unit.current_efficiency
      nominal_lb: 1.0
      nominal_ub: 1.8
      relative_lb: 0.01
      relative_ub: 0.01
      group: Performance
      y_convert: -1
      num_samples: 1
    EC Metal Dose:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.treatment.ec.unit.metal_dose
      nominal_lb: 0.00005
      nominal_ub: 0.00015
      relative_lb: -0.01
      relative_ub: -0.01
      group: Performance
      y_convert: 1
      num_samples: 1
    FO System Cost:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.treatment.costing.forward_osmosis.base_unit_cost
      nominal_lb: 13392
      nominal_ub: 40176
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1
      num_samples: 1
    Crystallizer HX Capital Cost:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.treatment.costing.multi_effect_crystallizer.heat_exchanger_capital_factor
      nominal_lb: 210.0
      nominal_ub: 630.0
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1
      num_samples: 1
    Heat Price:
      diff_mode: percentile
      diff_sample_type: UniformSample
      param: fs.costing.heat_cost_buy
      nominal_lb: 0.0083
      nominal_ub: 0.0249
      relative_lb: -0.01
      relative_ub: -0.01
      group: Cost
      y_convert: 1
      num_samples: 1
    sweep_reference_params: # The parameters below will be used to generate reference design and will be run simultaneously (e.g. all of them will be changed to generate a new hypothetical design here, we only provide one parameter, membrane cost, but could provide many others)

      CST Collector Cost:
        type: UniformSample
        param: fs.energy.costing.trough_surrogate.cost_per_total_aperture_area
        lower_limit: 148.5
        upper_limit: 445.5
      Thermal Storage Cost:
        type: UniformSample
        param: fs.energy.costing.trough_surrogate.cost_per_storage_capital
        lower_limit: 31.0
        upper_limit: 93.0
      Aluminum Cost:
        type: UniformSample
        param: fs.treatment.costing.aluminum_cost
        lower_limit: 1.115
        upper_limit: 3.345
      EC Current Efficiency:
        type: UniformSample
        param: fs.treatment.ec.unit.current_efficiency
        lower_limit: 1.0
        upper_limit: 1.8
      EC Metal Dose:
        type: UniformSample
        param: fs.treatment.ec.unit.metal_dose
        lower_limit: 0.00005
        upper_limit: 0.00015
      FO System Cost:
        type: UniformSample
        param: fs.treatment.costing.forward_osmosis.base_unit_cost
        lower_limit: 13392
        upper_limit: 40176
      Crystallizer HX Capital Cost:
        type: UniformSample
        param: fs.treatment.costing.multi_effect_crystallizer.heat_exchanger_capital_factor
        lower_limit: 210.0
        upper_limit: 630.0
      Heat Price:
        type: UniformSample
        param: fs.costing.heat_cost_buy
        lower_limit: 0.0083
        upper_limit: 0.0249
      num_samples: 10